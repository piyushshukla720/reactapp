{"ast":null,"code":"import _regeneratorRuntime from\"/home/reshabh/Documents/reactapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/reshabh/Documents/reactapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/reshabh/Documents/reactapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/reshabh/Documents/reactapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/reshabh/Documents/reactapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/home/reshabh/Documents/reactapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/reshabh/Documents/reactapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'../App.css';import'../fontawesome/css/all.css';import Header from'./Header';import CardList from'./Card';import{navigate,Router}from'@reach/router';import Add from'./Add';import{FaRupeeSign}from'react-icons/fa';import firebase from'./firebaseconfig';function Cardlist(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"deals-div\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{className:\"container\",style:{marginTop:\"66px\"}},/*#__PURE__*/React.createElement(CardList,{getData:props.getData,data:props.data,color:props.color,fontsizeL:props.fontsizeL,fontsizeS:props.fontsizeS,border:props.border,progressBarHeight:props.progressBarHeight})),/*#__PURE__*/React.createElement(\"div\",{className:\"fixed-bottom d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"badge bg-warning d-flex align-items-center justify-content-center text-light\",onClick:data,style:{height:\"40px\",fontSize:\"16px\",width:\"100px\"}},/*#__PURE__*/React.createElement(FaRupeeSign,null),\" SELL\")));}function data(){navigate('register');}var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={data:[],key:0,uid:null,error:null,pdata:[]};_this.getData=_this.getData.bind(_assertThisInitialized(_this));_this.getPData=_this.getPData.bind(_assertThisInitialized(_this));_this.signIn=_this.signIn.bind(_assertThisInitialized(_this));_this.putData=_this.putData.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.getData();firebase.auth().onAuthStateChanged(function(user){_this2.setState({uid:user.uid});},function(error){console.log(error);});}},{key:\"signIn\",value:function(){var _signIn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email,pass){var _this3=this;var newUser,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newUser=_args.length>2&&_args[2]!==undefined?_args[2]:false;if(!newUser){_context.next=6;break;}_context.next=4;return firebase.auth().createUserWithEmailAndPassword(email,pass).then(function(userd){return _this3.setState({uid:userd.user.uid});}).catch(function(err){return _this3.setState({error:err.message});});case 4:_context.next=8;break;case 6:_context.next=8;return firebase.auth().signInWithEmailAndPassword(email,pass).then(function(userd){return _this3.setState({uid:userd.user.uid});}).catch(function(err){return _this3.setState({error:err.message});});case 8:case\"end\":return _context.stop();}}},_callee);}));function signIn(_x,_x2){return _signIn.apply(this,arguments);}return signIn;}()},{key:\"getPData\",value:function(){var _getPData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(uid){var _this4=this;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:9000/update?uid=\".concat(uid)).then(function(res){return res.json();}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this4.setState({pdata:res.data});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x4){return _ref.apply(this,arguments);};}());case 2:case\"end\":return _context3.stop();}}},_callee3);}));function getPData(_x3){return _getPData.apply(this,arguments);}return getPData;}()},{key:\"getData\",value:function(){var _getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var _this5=this;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"http://localhost:9000/\").then(function(res){return res.json();}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(res){var x;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this5.setState({data:res.data});case 2:x=_this5.state.key+1;_context4.next=5;return _this5.setState({key:x});case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref2.apply(this,arguments);};}());case 2:case\"end\":return _context5.stop();}}},_callee5);}));function getData(){return _getData.apply(this,arguments);}return getData;}()},{key:\"putData\",value:function(){var _putData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(uid,users,amount,joins){var _this6=this;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch(\"http://localhost:9000/insert?uid=\".concat(uid,\"&users=\").concat(users,\"&amount=\").concat(amount,\"&joins=\").concat(joins)).then(function(res){return res.text();}).then(function(result){console.log(result);_this6.getData();});case 2:case\"end\":return _context6.stop();}}},_callee6);}));function putData(_x6,_x7,_x8,_x9){return _putData.apply(this,arguments);}return putData;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Cardlist,{path:\"/\",getData:this.getData,key:this.state.key,data:this.state.data,color:\"rgb(71,64,95,0.9)\",fontsizeL:\"24px\",fontsizeS:\"12px\",border:\"10px\",progressBarHeight:\"10px\"}),/*#__PURE__*/React.createElement(Add,{path:\"/register\",getPData:this.getPData,putData:this.putData,data:this.state.data,pdata:this.state.pdata,signIn:this.signIn,uid:this.state.uid,error:this.state.error}));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/reshabh/Documents/reactapp/client/src/Components/App.js"],"names":["React","Header","CardList","navigate","Router","Add","FaRupeeSign","firebase","Cardlist","props","marginTop","getData","data","color","fontsizeL","fontsizeS","border","progressBarHeight","height","fontSize","width","App","state","key","uid","error","pdata","bind","getPData","signIn","putData","auth","onAuthStateChanged","user","setState","console","log","email","pass","newUser","createUserWithEmailAndPassword","then","userd","catch","err","message","signInWithEmailAndPassword","fetch","res","json","x","users","amount","joins","text","result","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../App.css';\nimport '../fontawesome/css/all.css';\nimport Header from './Header';\nimport CardList from './Card';\nimport { navigate,Router } from '@reach/router';\nimport Add from './Add'\nimport { FaRupeeSign } from 'react-icons/fa'\nimport firebase from './firebaseconfig'\n\nfunction Cardlist(props){\n    return(\n        <div className=\"deals-div\"> \n        <Header />\n        <div className=\"container\" style={{marginTop:\"66px\"}}>\n         <CardList getData={props.getData} data={props.data} color={props.color} fontsizeL={props.fontsizeL} fontsizeS={props.fontsizeS} border={props.border} progressBarHeight={props.progressBarHeight}/>\n        </div>\n        <div className=\"fixed-bottom d-flex justify-content-center\">\n            <div className=\"badge bg-warning d-flex align-items-center justify-content-center text-light\" onClick={data} style={{height:\"40px\",fontSize:\"16px\",width:\"100px\"}}><FaRupeeSign /> SELL</div>\n        </div>\n        </div>\n    );\n}\n\nfunction data(){\n    navigate('register')\n   }\n\nclass App extends React.Component {\n    constructor(props){\n        super(props)\n        this.state={\n            data:[],\n            key:0,\n            uid: null,\n            error:null,\n            pdata: []\n        }\n        this.getData=this.getData.bind(this)\n        this.getPData=this.getPData.bind(this)\n        this.signIn=this.signIn.bind(this)\n        this.putData=this.putData.bind(this)\n    }\n    componentDidMount(){\n        this.getData()\n        firebase.auth().onAuthStateChanged(\n            user => { this.setState({uid:user.uid})},\n            error=>{\n                console.log(error)\n            }\n        )\n    }\n\n    async signIn(email,pass,newUser=false){\n        if(newUser){\n            await firebase.auth().createUserWithEmailAndPassword(email,pass).then(\n                userd => this.setState({uid:userd.user.uid})\n            ).catch(err=>this.setState({error:err.message}))\n        }else{\n       await firebase.auth().signInWithEmailAndPassword(email,pass).then(\n           userd => this.setState({uid:userd.user.uid})\n       ).catch(err=>this.setState({error:err.message}))\n        }\n    }\n    async getPData(uid){\n        await fetch(`http://localhost:9000/update?uid=${uid}`)\n            .then(res => res.json())\n            .then(async(res) => {\n               await this.setState({pdata: res.data})\n              });\n    }\n    async getData() {\n        await fetch(\"http://localhost:9000/\")\n            .then(res => res.json())\n            .then(async(res) => {\n               await this.setState({data: res.data})\n               var x=this.state.key+1\n               await this.setState({key:x})\n              });\n          }\n          async putData(uid,users,amount,joins) {\n            await fetch(`http://localhost:9000/insert?uid=${uid}&users=${users}&amount=${amount}&joins=${joins}`)\n                .then(res => res.text())\n                .then(result=>{\n                    console.log(result);\n                    this.getData();\n                });\n              }\n   render(){\n    return(\n        <Router>\n        <Cardlist path=\"/\" getData={this.getData} key={this.state.key} data={this.state.data} color=\"rgb(71,64,95,0.9)\" fontsizeL=\"24px\" fontsizeS=\"12px\" border=\"10px\" progressBarHeight=\"10px\"/>\n        <Add path=\"/register\" getPData={this.getPData} putData={this.putData} data={this.state.data} pdata={this.state.pdata} signIn={this.signIn} uid={this.state.uid} error={this.state.error}/>\n        </Router>\n       );\n   }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}